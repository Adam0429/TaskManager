(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32291c05"],{"2e41":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modules modules-select"},[s("div",{staticClass:"header-box"},[s("div",{staticClass:"inner-box"},[s("div",{staticClass:"content",style:t.contentStyle},[s("div",{staticClass:"content-left"},[s("span",{staticClass:"content-title"},[t._v(t._s(t.$t("components.selectModules")))]),s("span",{staticClass:"modules-num"},[t._v(t._s(t.canAddCount))]),t._l(t.classList,function(e){return s("div",{key:e.id,class:["module-class",e.id===t.activeNavId?"active-nav":""],on:{click:function(s){return t.changeNav(e.id)}}},[t._v("\n            "+t._s(e.name)+"\n          ")])})],2),s("el-col",{attrs:{span:6}},[s("el-input",{staticClass:"search-input",attrs:{type:"text",size:"small",clearable:"",placeholder:t.$t("Modules.searchTip")},on:{input:t.searchModule,clear:t.loadData},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}},[t.searchLoading?s("i",{staticClass:"el-icon-loading",attrs:{slot:"prefix"},slot:"prefix"}):s("i",{staticClass:"el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)])]),s("div",{staticClass:"content-box app-wrapper"},[t.searchVal?[t.searchModuleInfo.length?s("el-row",{attrs:{gutter:20}},t._l(t.searchModuleInfo,function(e,a){return s("el-col",{key:a,attrs:{span:12}},[s("div",{staticClass:"item-box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.id&&"{}"===JSON.stringify(e.params),expression:"one.id && JSON.stringify(one.params) === '{}'"}],staticClass:"delete-icon",on:{click:function(s){return t.deleteModule(e,t.searchModuleInfo)}}}),s("el-card",{attrs:{shadow:"hover"}},[s("div",{staticClass:"module-item",on:{click:function(s){return t.toModuleDetail(e,t.searchModuleInfo)}}},[s("div",{staticClass:"left-box"},[s("img",{staticClass:"item-img",attrs:{src:e.img,alt:"module-logo"}}),s("div",{staticClass:"item-content"},[s("div",{staticClass:"item-title"},[t._v(t._s(e.title[t.lang]))]),s("div",{staticClass:"item-des"},[t._v("\n                      "+t._s(e.description[t.lang])+"\n                    ")])])]),s("div",{staticClass:"item-handle"},["unadd"===e.status?s("el-button",{staticClass:"select-btn",attrs:{type:"dashed",size:"mini"}},[t._v("\n                    "+t._s(t.$t("Modules.select"))+"\n                  ")]):s("el-button",{staticClass:"start-btn",attrs:{plain:"",size:"mini"}},[t._v("\n                    "+t._s(t.$t("Modules.added"))+"\n                  ")]),s("a",{staticClass:"know-more",attrs:{href:"javascript:;"},on:{click:function(s){return s.stopPropagation(),t.toReadMore(e.name)}}},[t._v("\n                    "+t._s(t.$t("Modules.readMore"))+"\n                  ")])],1)])])],1)])}),1):s("a-card",{staticClass:"null-modules"},[s("p",[t._v(t._s(t.$t("Modules.listNull")))])])]:t._l(t.classList,function(e){return s("div",{key:e.id,staticClass:"link-content",attrs:{id:e.id}},[s("p",{class:["class-title",e.id===t.activeNavId?"active-title":""]},[t._v("\n          "+t._s(e.name)+"\n        ")]),t.allFeatures[e.id]?s("el-row",{attrs:{gutter:20}},t._l(t.allFeatures[e.id],function(a,n){return s("el-col",{key:n,attrs:{span:12}},[s("div",{staticClass:"item-box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:a.id&&"{}"===JSON.stringify(a.params),expression:"one.id && JSON.stringify(one.params) === '{}'"}],staticClass:"delete-icon",on:{click:function(s){return t.deleteModule(a,t.allFeatures[e.id])}}}),s("el-card",{attrs:{shadow:"hover"}},[s("div",{staticClass:"module-item",on:{click:function(s){return t.toModuleDetail(a,t.allFeatures[e.id])}}},[s("div",{staticClass:"left-box"},[s("img",{staticClass:"item-img",attrs:{src:a.img,alt:"module-logo"}}),s("div",{staticClass:"item-content"},[s("div",{staticClass:"item-title"},[t._v(t._s(a.title[t.lang]))]),s("div",{staticClass:"item-des"},[t._v("\n                        "+t._s(a.description[t.lang])+"\n                      ")])])]),s("div",{staticClass:"item-handle"},["unadd"===a.status?s("el-button",{staticClass:"select-btn",attrs:{type:"dashed",size:"mini"}},[t._v("\n                      "+t._s(t.$t("Modules.select"))+"\n                    ")]):s("el-button",{staticClass:"start-btn",attrs:{plain:"",size:"mini"}},[t._v("\n                      "+t._s(t.$t("Modules.added"))+"\n                    ")]),s("a",{staticClass:"know-more",attrs:{href:"javascript:;"},on:{click:function(e){return e.stopPropagation(),t.toReadMore(a.name)}}},[t._v("\n                      "+t._s(t.$t("Modules.readMore"))+"\n                    ")])],1)])])],1)])}),1):t._e()],1)})],2)])},n=[],i=(s("6762"),s("2fdb"),s("8615"),s("ac6a"),s("456d"),s("cebc")),o=s("a8db"),l=(s("7f7f"),s("96cf"),s("3b8d")),r=s("943d"),c=s("90b9"),d=s("a47b"),u={name:"ModuleAdd",data:function(){return{searchLoading:!1,searchVal:"",canAddCount:0,classList:[{name:this.$t("Modules.authentication"),id:"auth"},{name:this.$t("Modules.protocols"),id:"protocol"},{name:this.$t("Modules.messagePublish"),id:"message"},{name:this.$t("Modules.extension"),id:"extension"},{name:this.$t("Modules.monitor"),id:"devops"},{name:this.$t("Modules.localModules"),id:"module"}],activeNavId:"auth",allFeatures:{},selectedModule:{},allModuleList:[],searchModuleInfo:[],oper:"add",scrollTop:0,scrolling:!1,addedModules:JSON.parse(localStorage.getItem("addedModules"))||{}}},computed:{lang:function(){return d["a"].state.lang},contentStyle:function(){return{marginLeft:this.$store.state.leftBarCollapse?"80px":"200px"}}},created:function(){this.loadData()},mounted:function(){window.addEventListener("scroll",this.scrollToTop),this.returnPosition()},destroyed:function(){window.removeEventListener("scroll",this.scrollToTop)},methods:{deleteModule:function(t,e){var s=this,a=e.indexOf(t);this.$msgbox.confirm(this.$t("Modules.thisActionWillDeleteTheModule"),{confirmButtonText:this.$t("Base.confirm"),cancelButtonText:this.$t("Base.cancel"),type:"warning"}).then(Object(l["a"])(regeneratorRuntime.mark(function n(){var i,l;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(r["i"])(t.id);case 2:s.$message.success(s.$t("Base.deleteSuccess")),i=JSON.parse(localStorage.getItem("addedModules"))||{},delete i[t.name],delete s.addedModules[t.name],localStorage.setItem("addedModules",JSON.stringify(i)),t.id,l=Object(o["a"])(t,["id"]),l.status="unadd",e.splice(a,1,l);case 10:case"end":return n.stop()}},n)}))).catch(function(){})},returnPosition:function(){var t=this,e=this.$route.query,s=e.id,a=e.top;s&&setTimeout(function(){document.documentElement.scrollTop=a,document.body.scrollTop=a,t.activeNavId=s},50)},searchModule:function(){var t=this;if(this.searchLoading=!0,""===this.searchVal)return this.searchLoading=!1,this.searchModuleInfo=[],void(this.activeNavId="auth");setTimeout(Object(l["a"])(regeneratorRuntime.mark(function e(){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["k"])(t.allModuleList,"localTitle",t.searchVal);case 2:s=e.sent,s?(t.searchModuleInfo=s,t.searchLoading=!1):t.searchLoading=!1,t.activeNavId="";case 5:case"end":return e.stop()}},e)})),500)},parseI18n:function(t){var e=Object(c["c"])(t,["title","description"]).map(function(t){return t.params=Object(c["c"])(t.params,!0),t});return e},toModuleDetail:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e,s){var a,n,o,l,c,d,u,h,p=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=s.indexOf(e),n="unadd"===e.status?"add":"edit",this.oper=n,this.selectedModule={},"add"!==n){t.next=26;break}if(o=Object(i["a"])({},e),this.parseI18n([o]),l=o.params,Object.keys(l).length){t.next=22;break}return c={type:e.name,config:{}},t.next=12,Object(r["d"])(c);case 12:return d=t.sent,u=JSON.parse(localStorage.getItem("addedModules"))||{},u[d.type]=d.id,this.addedModules=u,localStorage.setItem("addedModules",JSON.stringify(u)),this.$message.success(this.$t("Modules.moduleAddSuccess")),e.status="added",e.id=d.id,s.splice(a,1,e),t.abrupt("return");case 22:this.selectedModule={paramsData:l,type:e.name,oper:n,title:e.title,description:e.description},this.$store.dispatch("UPDATE_MODULE",this.selectedModule),t.next=31;break;case 26:if(Object.keys(e.params).length){t.next=29;break}return this.$message.info(this.$t("Modules.noNeedAddConfigTip")),t.abrupt("return");case 29:h=this.addedModules[e.name],this.getAddedModuleInfo(h).then(function(t){p.selectedModule=t,p.selectedModule.oper=n,p.selectedModule.title=e.title,p.selectedModule.description=e.description,p.$store.dispatch("UPDATE_MODULE",p.selectedModule)}).catch();case 31:this.$router.push("/modules/detail?id=".concat(this.activeNavId,"&top=").concat(this.scrollTop));case 32:case"end":return t.stop()}},t,this)}));function e(e,s){return t.apply(this,arguments)}return e}(),getAddedModuleInfo:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["s"])(e);case 2:return s=t.sent,t.abrupt("return",s);case 4:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),changeNav:function(t){var e=this;if(!this.scrolling){this.searchModuleInfo=[],this.searchVal="",this.activeNavId=t;var s=this.$el.querySelector("#".concat(t)),a=s.offsetTop;setTimeout(function(){"auth"===t?e.backTo(0):e.backTo(a)},5)}},loadData:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.allModuleList=[],this.allFeatures=[],this.canAddCount=0,t.next=5,Object(r["o"])();case 5:this.allFeatures=t.sent,this.getImgs(),Object.values(this.allFeatures).forEach(function(t){e.allModuleList=e.allModuleList.concat(t)}),this.allModuleList.forEach(function(t){t.localTitle=t.title[e.lang],Object.keys(e.addedModules).includes(t.name)?(t.status="added",t.id=e.addedModules[t.name]):(t.status="unadd",e.canAddCount+=1)});case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getImgs:function(){var t=this;this.classList.forEach(function(e){var a=e.id;t.allFeatures[a].forEach(function(t){try{t.img=s("1775")("./".concat(t.name,".png"))}catch(e){console.log(e)}})})},backTo:function(t){var e=this,s=setInterval(function(){var a=Math.floor((t-e.scrollTop)/6);Math.abs(e.scrollTop-t)>=Math.abs(a)?e.scrollTop+=a:e.scrollTop=t,document.documentElement.scrollTop=e.scrollTop,document.body.scrollTop=e.scrollTop,e.scrolling=!0,e.scrollTop!==t&&0!==a||(clearInterval(s),e.scrolling=!1)},20)},scrollToTop:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.scrollTop=t},toReadMore:function(t){var e="zh"===this.lang?"cn/cn/":"io/en/",s="https://docs.emqx.".concat(e,"enterprise/latest/modules/").concat(t,".html"),a=window.open(s);a.opener=null}}},h=u,p=(s("b13c"),s("2877")),m=Object(p["a"])(h,a,n,!1,null,"839f236e",null);e["default"]=m.exports},"9b44":function(t,e,s){},a8db:function(t,e,s){"use strict";var a=s("e265"),n=s.n(a),i=s("a4bb"),o=s.n(i);function l(t,e){if(null==t)return{};var s,a,n={},i=o()(t);for(a=0;a<i.length;a++)s=i[a],e.indexOf(s)>=0||(n[s]=t[s]);return n}function r(t,e){if(null==t)return{};var s,a,i=l(t,e);if(n.a){var o=n()(t);for(a=0;a<o.length;a++)s=o[a],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}s.d(e,"a",function(){return r})},b13c:function(t,e,s){"use strict";var a=s("9b44"),n=s.n(a);n.a}}]);